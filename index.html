<!DOCTYPE html>
<html lang="en">
<head>
        <title>URNA</title>
        <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="shortcut icon" href="http://launchyard.com/images/favicon.png"/>
        <link rel="stylesheet" href="http://urna.xed.it/theme/css/main.css" type="text/css" />
        <link href="http://urna.xed.it/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="URNA Atom Feed" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://urna.xed.it/css/ie.css"/>
                <script src="http://urna.xed.it/js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="http://urna.xed.it/css/ie6.css"/><![endif]-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js" type="text/javascript"></script>


</head>

<body id="index" class="home">
	
  <!--      <header id="banner" class="body">
                <h1><a href="http://urna.xed.it/"><img src="http://www.launchyard.com/images/logo.png" /><strong><a href="/" >URNA&rarr;</a> conserva le<br/>cose a cui<br/>Winston Smith<br/>tiene</strong></a></h1>
        </header> -->
<!-- /#banner -->
	      <div class="LaunchyardDetail"><p><a href="http://urna.xed.it/"></a><img src="http://urna.xed.it/theme/images/urna.png" width="100%" height="100%" alt="URNA logo"></a><br/><a href="/" >URNA&rarr;</a> conserva le<br/>cose a cui<br/>Winston Smith<br/>tiene</p></div>

        
        

    
            <aside id="featured">
                <div class="body">
                    <article>
                        <h1 class="entry-title"><a href="http://urna.xed.it/http://www.winstonsmith.org">Test</a></h1>
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="http://urna.xed.it/author/winston-smith.html">Winston Smith</a>
        </li>
        <li class="published" title="2021-04-25T00:00:00+02:00">
          on&nbsp;Sun 25 April 2021
        </li>

	</ul>

</div><!-- /.post-info -->
                    </article>
                </div>
            </aside><!-- /#featured -->
            
        
        

    
            <aside id="featured">
                <div class="body">
                    <article>
                        <h1 class="entry-title"><a href="http://urna.xed.it/urna-il-solido-ripostiglio-di-winston-smith.html">Urna — il solido ripostiglio di Winston Smith</a></h1>
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="http://urna.xed.it/author/winston-smith.html">Winston Smith</a>
        </li>
        <li class="published" title="2015-04-24T10:20:00+02:00">
          on&nbsp;Fri 24 April 2015
        </li>

	</ul>

</div><!-- /.post-info --><p>Urna è il repository dei file digitali (audio,video,pdf,ecc…) ed è anche un sito contenente informazioni di lavoro e procedure su come gestire e manutenere tutto il sistema informatico di Winston Smith.</p>
<p>ENTRATE A VOSTRO RISCHIO E PERICOLO.</p>
<p>Tutte le informazioni su questo sito sono altamente instabili e volatili, maneggiare con cura!</p>
<h2>Procedure</h2>
<h3>Siti PMGC (Pelican/Markdown/Github/Casellante)</h3>
<p>A Winston Smith non piaccono i CMS ed usa solo siti statici. Ha scelto una tecnologia basata sull'integrazione verticale del sistema <a href="http://getpelican.org">Pelican</a> con il formato testuale <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a>, il repository <a href="http://github.org/progettowinstonsmith">GITHUB</a> sul proprio server denominato Casellante. </p>
<ul>
<li><a href="/urna-pmgc-attivazione-di-un-sottosistema-pelicanmarkdown.html">Attivazione di un sottosistema pelican/markdown</a></li>
<li><a href="/urna-pgmc-come-modificare-un-sito-winston-smith.html">Come modificare una pagina di un sito PMGC</a></li>
<li><a href="/urna-pgmc-come-pubblicare-un-sito-winston-smith.html">Come pubblicare un sito PMGC su Casellante</a></li>
</ul>
                    </article>
                </div>
            </aside><!-- /#featured -->
            
        
        

    
            <aside id="featured">
                <div class="body">
                    <article>
                        <h1 class="entry-title"><a href="http://urna.xed.it/urna-pgmc-come-modificare-un-sito-winston-smith.html">Urna — PGMC - come modificare un sito Winston Smith</a></h1>
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="http://urna.xed.it/author/winston-smith.html">Winston Smith</a>
        </li>
        <li class="published" title="2015-04-24T10:20:00+02:00">
          on&nbsp;Fri 24 April 2015
        </li>

	</ul>

</div><!-- /.post-info --><p>Per modificare uno dei siti Winston Smith realizzati con la catena PMGC è necessario:</p>
<ol>
<li>Clonare (o aggiornare) il repository sorgente sul proprio sistema</li>
<li>Modificare i file Markdown</li>
<li>Rigenerare i file statici html</li>
<li>Verificare il risultato</li>
<li>Aggiornare il repository sorgente</li>
</ol>
<p>Dopo la conclusione di quest'ultimo passo è possibile compiere i passi necessari alla
<a href="/urna-pgmc-come-pubblicare-un-sito-winston-smith.html">pubblicazione del sito su casellante</a></p>
<p>I repository sorgente di Winston Smith sono i seguenti:</p>
<ul>
<li><a href="https://github.com/progettowinstonsmith/bba-site">Big Brother Awards</a></li>
<li><a href="https://github.com/progettowinstonsmith/e-privacy-site">E-Privacy</a></li>
<li><a href="https://github.com/progettowinstonsmith/urna-site">URNA</a> (questo sito)</li>
<li><a href="https://github.com/progettowinstonsmith/antani-site">ANTANI</a> (sito di prova, facci quello che ti va)</li>
</ul>
<p>I collaboratori hanno accesso diretto ai repository e possono fare commit direttamente, gli altri possono comunque proporre pull-request.</p>
<h3>Clonare (o aggiornare) il repository sorgente sul proprio sistema</h3>
<p>Se non si ha una versione locale dei file di creazione del sito è possibile clonare il repository con il comando:</p>
<div class="highlight"><pre><span></span><code>git clone https://github.com/progettowinstonsmith/urna-site.git
</code></pre></div>

<p>Verrà creata una directory <code>urna-site</code> all'interno della quale, tra gli altri ci sono i seguenti file o directory:</p>
<p><code>pelicanconf.py</code>:
File di configurazione del sito</p>
<p><code>content</code>:
Directory contenente i documenti Markdown o i file statici del sito</p>
<p><code>theme</code>:
Directory contenente il <em>tema</em> di rappresentazione del sito</p>
<p>All'interno della directory dei contenuti (<code>content</code>) ci sono i file delle differenti pagine presenti nel sito, ad es:</p>
<div class="highlight"><pre><span></span><code>$ ls -1 content/
attivazione-pelican-markdown.md
pmgc-modificare-siti.md
urna.md
</code></pre></div>

<p>Ciascuno di questi file rappresenta una pagina del sito in formato testuale <a href="http://daringfireball.net/projects/markdown/syntax">Markdown</a>.</p>
<p>Se si ha già una directory contenente il clone della directory di lavoro <em>è necessario</em> prima della sessione di lavoro aggiornare i propri file integrando le modifiche esterne con il comando:</p>
<div class="highlight"><pre><span></span><code>git pull
</code></pre></div>

<h3>Modificare i file Markdown</h3>
<p>I file Markdown devono essere creati o modificati usando un qualsiasi editor di testi (ad es. emacs o vi). Se si creano nuove pagine Markdown è sufficiente inserirle nella directory <code>content</code> per essere prese in considerazione per la pubblicazione, non è necessario aggiornare alcun elenco di pubblicazione.</p>
<h3>Rigenerare i file html</h3>
<p>Una volta modificata la pagina Markdown è possibile ricreare l'intero sito e tutte le sue pagine HTML usando il comando:</p>
<div class="highlight"><pre><span></span><code>make html
</code></pre></div>

<p>Il sistema risponderà con un messaggio simile:</p>
<div class="highlight"><pre><span></span><code><span class="n">Done</span><span class="o">:</span> <span class="n">Processed</span> <span class="mi">3</span> <span class="n">article</span><span class="o">(</span><span class="n">s</span><span class="o">),</span> <span class="mi">0</span> <span class="n">draft</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="n">and</span> <span class="mi">0</span> <span class="n">page</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="k">in</span> <span class="mf">0.19</span> <span class="n">seconds</span><span class="o">.</span>
</code></pre></div>

<h3>Verificare il risultato</h3>
<p>I file generati sono disponibili nella cartella output (per capire bene il funzionamento della directory <code>output</code> leggere il documento sulla <a href="">pubblicazione online</a> ).</p>
<p>Per verificare il risultato sulla macchina di lavoro è possibile lanciare un server HTTP locale con il comando:</p>
<div class="highlight"><pre><span></span><code>make serve
</code></pre></div>

<p>Un server verrà messo in esecuzione in modo sincrono e potrà essere verificato il contenuto del sito collegandosi al server (o a localhost) sulla porta 8000, ad es.:</p>
<div class="highlight"><pre><span></span><code>http://localhost:8000
</code></pre></div>

<p>Il sito dovrà risultare completamente funzionante e navigabile.</p>
<p>Per chiudere il server è sufficiente bloccare il comando con CTRL-C.</p>
<p>È anche possibile attivare un server in background con:</p>
<div class="highlight"><pre><span></span><code>make devserver
</code></pre></div>

<p>Che potrà essere abbattuto con il comando:</p>
<div class="highlight"><pre><span></span><code>make stopserver
</code></pre></div>

<h3>Aggiornare il repository sorgente</h3>
<p>Accertatisi della correttezza delle modifiche apportate è possibile aggiornare il repository sorgente con il comando:</p>
<div class="highlight"><pre><span></span><code>git pull
</code></pre></div>

<p>oppure preparando una pull-request nelle modalità solite.</p>
<h3>Pubblicazione del sito online</h3>
<p>Giunti a questo punto è possibile compiere di seguito i passi riportati nel documento di <a href="/urna-pgmc-come-pubblicare-un-sito-winston-smith.html">pubblicazione del sito su casellante</a></p>
                    </article>
                </div>
            </aside><!-- /#featured -->
            
        
        

    
            <aside id="featured">
                <div class="body">
                    <article>
                        <h1 class="entry-title"><a href="http://urna.xed.it/urna-pgmc-come-pubblicare-un-sito-winston-smith.html">Urna — PGMC - come pubblicare un sito Winston Smith</a></h1>
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="http://urna.xed.it/author/winston-smith.html">Winston Smith</a>
        </li>
        <li class="published" title="2015-04-24T10:20:00+02:00">
          on&nbsp;Fri 24 April 2015
        </li>

	</ul>

</div><!-- /.post-info --><p>Esistono due differenti modi per pubblicare un sito Winston Smith PMGC a seconda che si abbia o meno l'accesso diretto a Casellante:</p>
<h2>Se non hai accesso a Casellante</h2>
<p>In questo caso:</p>
<ul>
<li>se non hai accesso neppure al <a href="https://github.com/progettowinstonsmith">repository</a> dei siti su Github, l'unico modo di contribuire è preparare una <a href="https://help.github.com/articles/creating-a-pull-request/">pull-request</a> e contattare uno degli amministratori.</li>
</ul>
<h2>Se hai accesso a Casellante</h2>
<p>(ed hai pure particolare fretta tanto da non voler attendere l'aggiornamento periodico)</p>
<ul>
<li>rigenera la versione statica e senza attendere il prossimo aggiornamento periodico,</li>
<li>forza la sincronizzazione immediata</li>
</ul>
<h2>Come rigenerare la versione statica del sito</h2>
<p>Segui semplicemente i passi già indicati in <a href="/urna-pgmc-come-modificare-un-sito-winston-smith.html">come modificare un sito Winston Smith</a>, nel tuo ambiente di lavoro o in quello di <code>ampleforth</code>. Verifica sempre che il sito non abbia problemi.</p>
<h2>Come forzare l'immediata sincronizzazione</h2>
<p>Entrare nel proprio utente di Casellante ed eseguire il comando:</p>
<div class="highlight"><pre><span></span><code>~/bin/eprivacy-resync-now
</code></pre></div>

<p>A questo punto abbi fiducia e dopo qualche minuto verifica che sia andato tutto bene.</p>
<h2>Trucco veramente sporco per sincronizzare SUBITO</h2>
<p>Se sei uno dei pochi fortunati dotato di un accesso ssh ai siti web di casellante, puoi dare il seguente comando direttamente dalla directory <code>&lt;progetto&gt;-site</code> dopo aver rigenerato (e verificato la correttezza del sito):</p>
<div class="highlight"><pre><span></span><code>make ssh_update
</code></pre></div>

<p>PS - Perché questo trucco funzioni c'è un ingrediente segreto che dovrò dirti a voce.</p>
                    </article>
                </div>
            </aside><!-- /#featured -->
            
        
        

    
            <aside id="featured">
                <div class="body">
                    <article>
                        <h1 class="entry-title"><a href="http://urna.xed.it/urna-pmgc-attivazione-di-un-sottosistema-pelicanmarkdown.html">Urna - PMGC - Attivazione di un sottosistema pelican/markdown</a></h1>
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="http://urna.xed.it/author/winston-smith.html">Winston Smith</a>
        </li>
        <li class="published" title="2015-04-24T10:20:00+02:00">
          on&nbsp;Fri 24 April 2015
        </li>

	</ul>

</div><!-- /.post-info --><p>Per attivare un sistema di lavorazione delle pagine web dei nuovi siti di Winston Smith è necessario attivare un sistema autonomo Pelican/Markdown sul proprio computer (i pochi sfortunati che hanno accesso ai server del PWS troveranno un sistema già attivo all'account <code>ampleforth</code>).</p>
<p>Il processo è costituito in tre passi:</p>
<ol>
<li>Installazione dell'interprete Python</li>
<li>Creazione di un ambiente virtuale dedicato a Pelican</li>
<li>Installazione di Pelican e Markdown</li>
</ol>
<p>Se hai già a disposizione (o sai come fare in autonomia) ciascuno di questi passi, puoi direttamente saltare a quello successivo.</p>
<h2>Installazione di python (con Miniconda)</h2>
<p>Miniconda è un progetto che mette a disposizione nello spazio d'utente una installazione completa di Python e un gestore di pacchetti (conda). È un modo molto semplice per gestire ambienti virtuali e installazioni di pacchetti Python anche da parte di chi è alle prime armi. È possibile installare un interprete python con Miniconda anche se si ha già un python installato nel sistema, semplicemente ad un certo punto si sceglierà di usare quello messo a disposizione da miniconda.</p>
<p>Per installare Miniconda scarica il file adatto al tuo sistema operativo (Linux, Mac OS X, Windows) dalla pagina http://conda.pydata.org/miniconda.html e segui le informazioni per l'installazione (in breve: esegui il file dalla linea di comando).</p>
<p>La procedura d'installazione creerà una distribuzione Python completa e funzionante nella tua directory utente $HOME (di solito nella cartella <code>$HOME/miniconda</code>). Non hai bisogno dei privilegi di amministrazione del sistema per installare miniconda. Dopo l'installazione basterà includere la directory dei binari per poter utilizzare il nuovo interprete, ad es. sui sistemi basati su Unix si userà il comando:</p>
<div class="highlight"><pre><span></span><code><span class="k">export</span> <span class="n">PATH</span><span class="o">=~/</span><span class="n">miniconda</span><span class="o">/</span><span class="n">bin</span><span class="p">:</span><span class="o">$</span><span class="n">PATH</span>
</code></pre></div>

<p>Questo comando puoi metterlo nella <code>.bash_profile</code> per poter usare quest'interprete anche la prossima volta che ti colleghi al sistema.</p>
<p>Hai così installato un interprete python.</p>
<h2>Creazione di un ambiente virtuale per Pelican</h2>
<p>Sebbene sia possibile installare i pacchetti necessari al lavoro su Pelican direttamente nell'ambiente base di python è solitamente consigliato creare un ambiente virtuale python dedicato. È molto conosciuto il progetto <code>virtualenv</code> per questo. Con Miniconda però  il sistema di distribuzione dei pacchetti (chiamato <code>conda</code>) permette di creare ambienti di lavoro separati per progetti.</p>
<p>Quindi ti basterà usare il comando: </p>
<div class="highlight"><pre><span></span><code>conda create -n pws python pip
</code></pre></div>

<p>per creare un nuovo ambiente virtuale chiamato <code>pws</code> (ma poteva essere qualsiasi altro nome). Installerà all'interno il linguaggio <code>python</code> e il pacchetto <code>pip</code>.</p>
<p>Per attivare l'ambiente sarà sufficiente usare il comando:</p>
<div class="highlight"><pre><span></span><code>source activate pws
</code></pre></div>

<p>Da quel momento all'estrema sinistra del prompt vedrai l'indicazione dell'ambiente virtuale:</p>
<div class="highlight"><pre><span></span><code> (pws) casellante:~#
</code></pre></div>

<p>Nella prossima sessione di lavoro non ci sarà bisogno di ricreare l'ambiente virtuale, basterà solo attivarlo con il comando già visto:</p>
<div class="highlight"><pre><span></span><code>source activate pws
</code></pre></div>

<p>Hai così realizzato un ambiente virtuale python per poter lavorare con pelican e i siti PMGC di Winston Smith.</p>
<h2>Installazione di Pelican e Markdown</h2>
<p>L'ultimo passo da compiere, una volta creato l'ambiente virtuale di lavoro, è l'installazione dei package di lavoro <code>pelican</code> e <code>markdown</code> attraverso il sistema di packaging standard di python <code>pip</code>.</p>
<p>Il comando è:</p>
<div class="highlight"><pre><span></span><code>pip install pelican markdown
</code></pre></div>

<p>Il sistema pip scaricherà questi pacchetti e tutte quelli necessari e completerà l'installazione in breve. Al termine potrai usare il comando:</p>
<div class="highlight"><pre><span></span><code>pelican-quickstart
</code></pre></div>

<p>come indicato dal <a href="http://pelican.readthedocs.org/">tutorial</a> di pelican.</p>
<p>Ecco fatto!</p>
<p>Ora puoi iniziare a <a href="/">modificare una pagina di un sito PMGC</a></p>
                    </article>
 
                </div>
            </aside><!-- /#featured -->
            
        
        <section id="extras" >
       
        
        </section><!-- /#extras -->
	
        <footer id="contentinfo" >
                <address id="about" class="vcard ">
                Proudly powered by <a href="http://getpelican.com/" target="_blank">Pelican</a>, which takes
                great advantage of <a href="http://python.org" target="_blank">Python</a>. &copy; <a class="url fn" href="http://launchyard.com">LaunchYard</a>
		
                </address><!-- /#about -->
		

                
        </footer><!-- /#contentinfo -->

</body>
</html>